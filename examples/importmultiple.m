

sessionList = {'Ellie_2017-06-27_15-30-22', ...
    'Ellie_2017-07-19_15-49-43_Shnk2', ...
    'Ellie_2017-07-20_09-41-04_Shank2D2', ...
    'Ellie_2017-07-24_15-59-49_shank2D3', ...
    'Ellie_2017-07-25_13-29-24_Shank2D4', ...
    'Ellie_2017-07-26_13-51-39_Shank2D5', ...
    'Ellie_2017-07-27_14-17-50_Shank2D6', ...
    'Ellie_2017-07-28_15-21-04_Shank2D7', ...
    'Ellie_2017-07-31_15-21-11_Shnkd8', ...
    'Ellie_2017-08-01_11-27-24_Shank2D9', ...
    'Ellie_2017-08-02_14-17-43_ShankD10', ...
    'Ellie_2017-08-03_15-14-58_Shank2D11', ...
    'Ellie_2017-08-04_14-40-46_shank2D12MT3', ...
    'Ellie_2017-08-07_15-48-21_Shank2D13MT4', ...
    'Ellie_2017-08-07_16-43-08_Shank2D13MT5', ...
    'Ellie_2017-08-08_13-41-34_Shank2D14MT5', ...
    'Ellie_2017-08-09_13-04-23_ShankD15MT6', ...
    'Ellie_2017-08-11_11-18-43_Shank2D17MT7', ...
    'Ellie_2017-08-15_11-14-36_Shank2D18', ...
    'Ellie_2017-08-15_12-35-09_Shank2D18B', ...
    'Ellie_2017-08-15_13-17-39_Shank2D18B_end', ...
    'Ellie_2017-08-16_13-57-12_Shank2D19MT8', ...
    'Ellie_2017-08-17_11-13-34_Shank2D20'};


for i = 1:numel(sessionList)
    
    
    oepath = fullfile('C:\Data', sessionList{i});
    
    % --- setup the hardware you used
    clear shank
    
    % setup shank2 (plugged into first headstage)
    shank{1} = hardware.electrode.Shank2;
    % specify what type of headstage was used
    shank{1}.headstages{1} = hardware.headstage.intan_RHD2132;
    shank{1}.name = 'V1';
    
    if any(strfind(sessionList{i}, 'MT'))
        chanMap = 4;
        shank{2} = hardware.electrode.customChannelMap(chanMap);
        shank{2}.name = 'MtBurrHoleMapping';
    end
    try
        
        import_function(oepath, shank)
    catch
        fprintf('[%s] failed\n', sessionList{i})
    end
end